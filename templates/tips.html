<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Health Tips</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='tips.css') }}">
</head>
<body>

<div class="tips-container">
    <h2>Personalized Health Tips</h2>

    <!-- Upload PDF Form -->
    <form method="POST" enctype="multipart/form-data" class="upload-form">
        <label for="pdf">Upload Your Health Report (PDF):</label>
        <input type="file" name="pdf" accept=".pdf" required>
        <button type="submit">Generate Tips</button>
    </form>

    {% if data %}
    <!-- User Info -->
    <div class="user-info">
        <h3>User Information</h3>
        <p><b>Age:</b> {{ data.age }}</p>
        <p><b>Gender:</b> {{ data.gender }}</p>
        <p><b>Overall Health Status:</b> {{ data.health_status }}</p>
    </div>

    <!-- Charts -->
    <div class="charts">
        <h3>Visual Insights</h3>
        <div class="chart">
            <h4>Heart Risk by Age</h4>
            <img src="data:image/png;base64,{{ data.heart_age_chart }}" alt="Heart Age Distribution">
        </div>
        <div class="chart">
            <h4>Chest Pain & Heart Risk</h4>
            <img src="data:image/png;base64,{{ data.chest_pain_chart }}" alt="Chest Pain">
        </div>
        <div class="chart">
            <h4>Cholesterol & Heart Risk</h4>
            <img src="data:image/png;base64,{{ data.cholesterol_chart }}" alt="Cholesterol">
        </div>
        <div class="chart">
            <h4>Age vs Body Fat</h4>
            <img src="data:image/png;base64,{{ data.age_bodyfat_chart }}" alt="Age vs Bodyfat">
        </div>
        <div class="chart">
            <h4>Diabetes by Age Group</h4>
            <img src="data:image/png;base64,{{ data.diabetes_age_chart }}" alt="Diabetes by Age">
        </div>
        <div class="chart">
            <h4>Body Fat Gauge</h4>
            <img src="data:image/png;base64,{{ data.bodyfat_gauge_chart }}" alt="Bodyfat Gauge">
        </div>
    </div>

    <!-- Health Tips -->
    <div class="tips">
        <h3>Health Recommendations</h3>

        <!-- Heart Section -->
        <div class="tip-section">
            <h4>‚ù§Ô∏è Heart Health</h4>
            <p>Status: {{ "At Risk" if data.heart.risk else "Safe" }}</p>
            <div class="tips-list">
                <div>
                    <b>Diet Tips:</b>
                    <ul>
                        {% for tip in data.heart.tips.diet %}
                            <li>{{ tip }}</li>
                        {% endfor %}
                    </ul>
                </div>
                <div>
                    <b>Exercise Tips:</b>
                    <ul>
                        {% for tip in data.heart.tips.exercise %}
                            <li>{{ tip }}</li>
                        {% endfor %}
                    </ul>
                </div>
            </div>
        </div>

        <!-- Diabetes Section -->
        <div class="tip-section">
            <h4>ü©∏ Diabetes Management</h4>
            <p>Status: {{ "At Risk" if data.diabetes.risk else "Safe" }}</p>
            <div class="tips-list">
                <div>
                    <b>Diet Tips:</b>
                    <ul>
                        {% for tip in data.diabetes.tips.diet %}
                            <li>{{ tip }}</li>
                        {% endfor %}
                    </ul>
                </div>
                <div>
                    <b>Exercise Tips:</b>
                    <ul>
                        {% for tip in data.diabetes.tips.exercise %}
                            <li>{{ tip }}</li>
                        {% endfor %}
                    </ul>
                </div>
            </div>
        </div>

        <!-- Bodyfat Section -->
        <div class="tip-section">
            <h4>‚öñÔ∏è Body Fat Control</h4>
            <p>Status: {{ "High Body Fat" if data.bodyfat.risk else "Normal" }}</p>
            <p><b>Body Fat %:</b> {{ data.bodyfat.percent }}</p>
            <div class="tips-list">
                <div>
                    <b>Diet Tips:</b>
                    <ul>
                        {% for tip in data.bodyfat.tips.diet %}
                            <li>{{ tip }}</li>
                        {% endfor %}
                    </ul>
                </div>
                <div>
                    <b>Exercise Tips:</b>
                    <ul>
                        {% for tip in data.bodyfat.tips.exercise %}
                            <li>{{ tip }}</li>
                        {% endfor %}
                    </ul>
                </div>
            </div>
        </div>
    </div>
    {% endif %}
</div>

</body>
</html>
